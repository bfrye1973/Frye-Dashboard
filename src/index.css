/* =========================================================
   Frye Dashboard — CLEAN BASE
   ========================================================= */

/* ---------- Zoom/scale hardeners (safe defaults) ---------- */
html, body {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}
html { zoom: 1 !important; }      /* ignored by Firefox */

/* ---------- Theme tokens ---------- */
:root{
  --bg:#0d1117;
  --panel:#0e1526;
  --border:#1f2a44;
  --text:#e5e7eb;
  --muted:#9ca3af;

  --ok:#22c55e;
  --warn:#f59e0b;
  --danger:#ef4444;
  --info:#3b82f6;
}

/* ---------- Base ---------- */
*{ box-sizing:border-box; }
html, body, #root{
  height:100%; width:100%; margin:0; padding:0;
  background:var(--bg); color:var(--text);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
img, svg, video{ max-width:100%; display:block; height:auto; }
/* don’t globally force canvas — handled per chart */
a{ color:var(--info); text-decoration:none; } a:hover{text-decoration:underline;}
button{ font:inherit; color:inherit; background:transparent; border:1px solid var(--border); padding:6px 10px; border-radius:6px; cursor:pointer; }

/* ---------- Panels / layout ---------- */
.panel{
  background:var(--panel); border:1px solid var(--border);
  border-radius:12px; padding:10px;
}
.panel-head{ display:flex; align-items:center; gap:8px; padding:8px 10px; border-bottom:1px solid var(--border); background:#0c1320; }
.panel-title{ font-weight:700; }
.spacer{ flex:1; }
.muted{ opacity:.8; } .small{ font-size:12px; }

/* =========================================================
   KPI / Tiles / Meter
   ========================================================= */
.kpi-bar{ position:relative; height:8px; border:1px solid #334155; background:#0b1220; border-radius:6px; overflow:hidden; }
.kpi-fill{ position:absolute; left:0; top:0; bottom:0; border-radius:6px; }
.kpi-bar.ok    .kpi-fill{ background:var(--ok); }
.kpi-bar.warn  .kpi-fill{ background:var(--warn); }
.kpi-bar.danger .kpi-fill{ background:var(--danger); }

/* delta chips */
.delta{ font-weight:700; padding:2px 6px; border-radius:8px; border:1px solid transparent; }
.delta-up{   color:#16a34a; border-color:#14532d; background:#052e1b; }
.delta-down{ color:#ef4444; border-color:#7f1d1d; background:#3a0e0e; }
.delta-flat{ color:#93c5fd; border-color:#334155; background:#0b1220; }

/* Optional row outlines for debugging */
#row-1,#row-2,#row-3,#row-4,#row-5,#row-6,#row-7{
  outline:1px dotted rgba(100,150,255,.25); margin-bottom:8px;
}

/* =========================================================
   ROW 5–7 SAFETY
   ========================================================= */
#row-5, #row-7 {
  min-height: 220px !important;
  background: rgba(34, 197, 94, 0.08) !important;   /* faint tint */
  outline: 1px dashed rgba(34, 197, 94, 0.5) !important;
  position: relative !important;
  z-index: 2 !important;
}
#row-6 {
  min-height: 520px !important;                     /* chart row height */
  background: rgba(59, 130, 246, 0.06) !important;  /* faint tint */
  outline: 1px dashed rgba(59, 130, 246, 0.5) !important;
  position: relative !important;
  z-index: 2 !important;
}

/* =========================================================
   CHART QUARANTINE — ONLY ROW 6
   ========================================================= */
#row-6.chart-card {
  position: relative !important;
  height: 520px !important;
  overflow: hidden !important;   /* clip runaway canvases */
  margin-top: 12px;
}

/* contain only canvases inside row-6 */
#row-6.chart-card canvas {
  position: relative !important;
  max-height: 520px !important;
  width: 100% !important;
  height: 100% !important;
  z-index: 0 !important;          /* don’t overlay row-7 */
  overflow: hidden !important;
}
